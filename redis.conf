# ============================================================
# Redis Configuration for English Trainer
# Используется для хранения активных сессий грамматических упражнений
# ============================================================

# Директория для сохранения файлов (в Docker это /data)
dir /data

# ============================================================
# Persistence: RDB (снимки базы данных)
# ============================================================
# RDB сохраняет снимок базы данных в файл dump.rdb
# Формат: save <секунды> <изменения>
# Означает: сохрани данные, если произошло N изменений за M секунд
# Закомментировано: используется только при необходимости

# save 900 1
# save 300 10
# save 60 10000
# dbfilename dump.rdb

# ============================================================
# Persistence: AOF (Append-Only File)
# ============================================================
# AOF записывает каждую операцию в журнал
# Обеспечивает лучшую защиту от потери данных
# Закомментировано: используется только при необходимости

# appendonly yes
# appendfilename "appendonly.aof"
# appendfsync everysec
# aof-use-rdb-preamble yes

# ============================================================
# Memory Management
# ============================================================
# Максимальный объем памяти Redis может использовать
maxmemory 256mb

# Политика вытеснения: что делать когда памяти недостаточно
# allkeys-lru: удалить самый старый использованный ключ (подходит для кеша)
maxmemory-policy allkeys-lru

# ============================================================
# Logging
# ============================================================
# Уровень логирования: debug, verbose, notice, warning
loglevel notice
